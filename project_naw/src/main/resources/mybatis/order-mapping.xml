<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.orderMapper">

<!--	<select id="order_info" parameterType="" resultType="orderDTO"> 
 		<![CDATA[
		insert into order_page values(sysdate, #{ord_time},#{ord_number}, #{user_id},
		 #{item_name}, #{item_color}, #{item_size}, #{item_price}, #{ord_qty}, 
		 #{ord_totalprice}, #{user_post}, #{user_addr1}, #{user_addr2})
		]]>
	</select>
	
	<select id="order_check" parameterType="orderDTO">
	<![CDATA[
		select #{ord_date}, #{ord_time},#{ord_number}, #{user_id},
		 #{item_name}, #{item_color}, #{item_size}, #{item_price}, #{ord_qty}, 
		 #{ord_totalprice}, #{user_post}, #{user_addr1}, #{user_addr2}
		from order_page
		]]>
	</select>
 -->	
 
 	<!-- 주문내역 불러오기 -->
 	<select id="getOrderList" parameterType="java.util.Map" resultType="orderDTO">
 		<![CDATA[select * from
		(select rownum rn, tt.* from
		(select * from order_page order by ord_date desc) tt)
		where rn>=#{startNum} and rn<=#{endNum} and user_id=#{user_id}]]>
 	</select>
 	
 	<!-- 특정 회원의 총 데이터 개수 구하기 -->
 	<select id="getTotalA" parameterType="String" resultType="int">
 		<![CDATA[select count(*) as cnt from order_page where user_id=#{user_id}]]>
 	</select>
 	
 	<!-- 특정 상품의 상세 정보 가져오기 -->
 	<select id="getOrderDetail" parameterType="String" resultType="orderDTO">
 		<![CDATA[select * from order_page where ord_number=#{ord_number}]]>
 	</select>
</mapper>